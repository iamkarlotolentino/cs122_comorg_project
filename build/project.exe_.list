EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
project.exe_ -- emu8086 assembler version: 4.08  
 
[ 06/04/2020  --  3:14:08 pm ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       
[   2]        :                                       INCLUDE 'macros.inc'
[   3]        :                                       
[   4]        :                                       TITLE "Bank Account Manager"
[   5]        :                                       
[   6]        :                                       .MODEL small
[   7]        :                                       .STACK 125h
[   8]        :                                       .DATA
[   9]    0130: 00                                    acct_login      db   0
[  10]    0131: 20 20 20 20 20 20 20 20 20 20 20 20   ff_card_no      db  16 dup(' '), '$'
                20 20 20 20 24                      
[  11]    0142: 20 20 20 20 20 20 20 24               ff_pin_code     db   7 dup(' '), '$'
[  12]    014A: 20 20 20 20 20 20 20 20 20 20 20 20   ff_balance      db  12 dup(' '), '$'
                24                                  
[  13]        :                                       
[  14]    0157: 11 00 24 24 24 24 24 24 24 24 24 24   in_card_no      db  17, ?, 17 dup('$')
                24 24 24 24 24 24 24                
[  15]    016A: 07 00 24 24 24 24 24 24 24            in_pin_code     db   7, ?,  7 dup('$')
[  16]    0173: 07 00 24 24 24 24 24 24 24            new_pin_code    db   7, ?,  7 dup('$')
[  17]        :                                       
[  18]    017C: 0D 00 24 24 24 24 24 24 24 24 24 24   input_amount    db  13, ?, 13 dup('$')
                24 24 24                            
[  19]        :                                       
[  20]    018B: 61 63 63 6F 75 6E 74 2E 74 78 74 00   fname           db  "account.txt", 0
                                                    
[  21]    0197: 00 00                                 fhandle         dw  ?
[  22]    0199: 00 00 00 00 00 00 00 00 00 00 00 00   fbuffer         db  38 dup(?)
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00                               
[  23]        :                                       
[  24]    01BF: 00                                    PAGE_LOGIN      db 0
[  25]    01C0: 00                                    PAGE_MENU       db 0
[  26]    01C1: 00                                    PAGE_INPUT      db 0
[  27]    01C2: 00                                    PAGE_RESET      db 0
[  28]    01C3: 00                                    PAGE_BALANCE    db 0
[  29]    01C4: 00                                    PAGE_ALERT      db 0
[  30]    01C5: 00                                    PAGE_WAIT       db 0
[  31]        :                                       
[  32]    01C6: 54 69 6D 65 3A 24                     time            db  "Time:$"
[  33]    01CC: 30 30 3A 30 30 3A 30 30 24            timestamp       db  "00:00:00$"
[  34]        :                                       
[  35]        :                                       ;   [0]   [1]   [2]   [3]   [4]   [5]   [6]   [7]   [8]   [9]   [10]
[  36]    01D5: B9 BA BB BC C8 C9 CA CB CC CD CE      _sym            db  185d, 186d, 187d, 188d, 200d, 201d, 202d, 203d, 204d, 205d, 206d
[  37]        :                                       
[  38]    01E0: 57 65 6C 63 6F 6D 65 2C 20 4A 43 21   login_accnt     db "Welcome, JC!$"
                24                                  
[  39]    01ED: 59 6F 75 72 20 70 65 72 73 6F 6E 61   login_desc      db "Your personal bank acc't manager$"
                6C 20 62 61 6E 6B 20 61 63 63 27 74 
                20 6D 61 6E 61 67 65 72 24          
[  40]    020E: 43 41 52 44 20 4E 4F 2E 24 50 49 4E   login_frm_text  db "CARD NO.$", "PIN CODE$"
                20 43 4F 44 45 24                   
[  41]    0220: 5B 20 4F 4B 20 5D 24 5B 20 43 41 4E   login_frm_sel   db "[ OK ]$", "[ CANCEL ]$"
                43 45 4C 20 5D 24                   
[  42]        :                                       
[  43]    0232: 57 69 74 68 64 72 61 77 24 44 65 70   menu_frm_text   db  "Withdraw$", "Deposit$", "Balance$", "Reset PIN$", "Log Out$", "Details$"
                6F 73 69 74 24 42 61 6C 61 6E 63 65 
                24 52 65 73 65 74 20 50 49 4E 24 4C 
                6F 67 20 4F 75 74 24 44 65 74 61 69 
                6C 73 24                            
[  44]    0265: C9 CD CD CD CD CD CD CD CD CD CD CD   menu_hdr        db  201d, 15 dup(205d), 187d, '$'
                CD CD CD CD BB 24                   
[  45]    0277: C8 CD CD CD CD CD CD CD CD CD CD CD   menu_frm_ftr    db  200d, 15 dup(205d), 188d, '$'
                CD CD CD CD BC 24                   
[  46]        :                                       
[  47]    0289: 4E 4F 54 20 56 41 4C 49 44 20 49 4E   err_blank       db  "NOT VALID INPUT$"
                50 55 54 24                         
[  48]    0299: 49 6E 63 6F 72 72 65 63 74 21 20 54   err_incorrect   db  "Incorrect! Try again.$"
                72 79 20 61 67 61 69 6E 2E 24       
[  49]    02AF: 45 72 72 6F 72 2E 20 41 63 63 6F 75   err_file404     db  "Error. Account database not found!$"
                6E 74 20 64 61 74 61 62 61 73 65 20 
                6E 6F 74 20 66 6F 75 6E 64 21 24    
[  50]        :                                       
[  51]    02D2: 50 6C 65 61 73 65 20 77 61 69 74 24   msg_wait        db  "Please wait$"
                                                    
[  52]        :                                       
[  53]    02DE: 45 4E 54 45 52 20 41 4D 4F 55 4E 54   input_text      db  "ENTER AMOUNT$"
                24                                  
[  54]        :                                       
[  55]    02EB: 54 68 61 6E 6B 20 79 6F 75 2E 20 47   exit_msg        db "Thank you. Goodbye!$"
                6F 6F 64 62 79 65 21 24             
[  56]    02FF: 54 65 6C 6C 65 72 20 4D 61 63 68 69   app_version     db "Teller Machine @ 2020 ", 179d, " v1.0$"
                6E 65 20 40 20 32 30 32 30 20 B3 20 
                76 31 2E 30 24                      
[  57]        :                                       .CODE
[  58]        :                                       ;---------------------- MAIN PROC -------------------------;
[  59]    0320:                                       main PROC
[  60]        :                                       ; initialize all proper data and setup
[  61]    0320: E8 A9 00                              call           setup
[  62]    0323:                                       login:
[  63]    0323: E8 27 01                              call           login_page
[  64]        :                                       ; evaluate if the input is valid
[  65]        :                                       ; pin-code not empty
[  66]    0326: 80 3E 3C 00 24                        cmp            in_pin_code[2], '$'
[  67]    032B: 74 6D                                 je             login_error
[  68]        :                                       ; card-no not empty
[  69]    032D: 80 3E 29 00 24                        cmp            in_card_no[2], '$'
[  70]    0332: 74 66                                 je             login_error
[  71]        :                                       ; validate acccount
[  72]    0334: E8 06 0A                              call           validate_acct
[  73]    0337: 80 3E 00 00 01                        cmp            acct_login, 01h
[  74]    033C: 75 E5                                 jne            login
[  75]        :                                       ; load please wait
[  76]    033E: B0 07 B4 05 CD 10                     set_videopage  7
[  77]    0344: 80 3E 95 00 01                        cmp            PAGE_WAIT, 1
[  78]    0349: 74 1B                                 je             please_wait
[  79]    034B: E8 90 09                              call           cls
[  80]    034E: 60 B6 0B B2 0F B7 07 B4 02 CD 10 BA   prints         11, 15, 7, msg_wait
                A2 01 B4 09 CD 21 61                
[  81]    0361: C6 06 95 00 01                        mov            PAGE_WAIT, 1
[  82]    0366:                                       please_wait:
[  83]        :                                       ; removing input text in login page
[  84]    0366: 60 B6 09 B2 10 B7 00 B4 02 CD 10 B9   printr         9,  16, 0, ' ', 16
                10 00 B7 00 B3 1E B0 20 B4 09 CD 10 
                61                                  
[  85]    037F: 60 B6 0B B2 10 B7 00 B4 02 CD 10 B9   printr         11, 16, 0, ' ', 6
                06 00 B7 00 B3 1E B0 20 B4 09 CD 10 
                61                                  
[  86]    0398: EB 2C                                 jmp            continue
[  87]    039A:                                       login_error:
[  88]    039A: B6 0B B2 0D B7 06 B4 02 CD 10         cursor_at      11,13,6
[  89]    03A4: B0 06 B4 05 CD 10 E8 31 09 60 B6 00   alert          err_blank
                B2 00 B7 00 B4 02 CD 10 BA 59 01 B4 
                09 CD 21 61                         
[  90]    03C0: E8 DE 09                              call           delay
[  91]    03C3: E9 5D FF                              jmp            login
[  92]    03C6:                                       continue:
[  93]    03C6: E8 D0 04                              call           menu_page
[  94]        :                                       ; expected logout has been called
[  95]    03C9: E9 57 FF                              jmp            login
[  96]        :                                       main ENDP
[  97]        :                                       
[  98]        :                                       ;---------------------- SETUP PROC -------------------------;
[  99]    03CC:                                       setup PROC
[ 100]        :                                       ; data segment address
[ 101]    03CC: BA 13 00                              mov            dx, @data
[ 102]    03CF: 8E DA                                 mov            ds, dx
[ 103]    03D1: 8E C2                                 mov            es, dx
[ 104]        :                                       
[ 105]        :                                       ; set video mode
[ 106]    03D3: B0 00                                 mov            al, 00h
[ 107]    03D5: B4 00                                 mov            ah, 00h
[ 108]    03D7: CD 10                                 int            10h
[ 109]        :                                       
[ 110]        :                                       ; disable blinking
[ 111]    03D9: B8 03 10                              mov            ax, 1003h
[ 112]    03DC: BB 00 00                              mov            bx, 00h
[ 113]    03DF: CD 10                                 int            10h
[ 114]        :                                       
[ 115]        :                                       ; hide text cursor:
[ 116]    03E1: B5 32                                 mov            ch, 32h
[ 117]    03E3: B4 01                                 mov            ah, 01h
[ 118]    03E5: CD 10                                 int            10h
[ 119]        :                                       
[ 120]        :                                       ; initialize mouse
[ 121]    03E7: B8 00 00                              mov            ax, 00h
[ 122]    03EA: CD 33                                 int            33h
[ 123]        :                                       
[ 124]        :                                       ; display mouse cursor:
[ 125]    03EC: B8 01 00                              mov            ax, 01h
[ 126]    03EF: CD 33                                 int            33h
[ 127]        :                                       
[ 128]        :                                       ; load account details
[ 129]        :                                       ; open file
[ 130]    03F1: B0 02                                 mov            al, 02h
[ 131]    03F3: BA 5B 00                              mov            dx, offset fname
[ 132]    03F6: B4 3D                                 mov            ah, 3Dh
[ 133]    03F8: CD 21                                 int            21h
[ 134]    03FA: 72 3B                                 jc             fileerr
[ 135]    03FC: A3 67 00                              mov            fhandle, ax
[ 136]        :                                       
[ 137]        :                                       ; read file
[ 138]    03FF: 8B 1E 67 00                           mov            bx, fhandle
[ 139]    0403: B9 30 00                              mov            cx, 30h
[ 140]    0406: BA 69 00                              lea            dx, fbuffer
[ 141]    0409: B4 3F                                 mov            ah, 3Fh
[ 142]    040B: CD 21                                 int            21h
[ 143]        :                                       
[ 144]        :                                       ; parse data
[ 145]        :                                       ; first 16 bytes is acc't no.
[ 146]    040D: BE 68 00                              lea            si, [fbuffer-1]
[ 147]    0410: BF 01 00                              lea            di, ff_card_no
[ 148]    0413: B9 10 00                              mov            cx, 0010h
[ 149]    0416: 46                                    inc            si
[ 150]    0417: FC                                    cld
[ 151]    0418: F3                                    rep
[ 152]    0419: A4                                    movsb
[ 153]        :                                       ; next 6 bytes is pin code
[ 154]    041A: 46                                    inc            si
[ 155]    041B: BF 12 00                              lea            di, ff_pin_code
[ 156]    041E: B9 06 00                              mov            cx, 0006h
[ 157]    0421: 46                                    inc            si
[ 158]    0422: FC                                    cld
[ 159]    0423: F3                                    rep
[ 160]    0424: A4                                    movsb
[ 161]        :                                       ; next 12 bytes is current balance
[ 162]    0425: 46                                    inc            si
[ 163]    0426: BF 1A 00                              lea            di, ff_balance
[ 164]    0429: B9 0C 00                              mov            cx, 000Ch
[ 165]    042C: 46                                    inc            si
[ 166]    042D: FC                                    cld
[ 167]    042E: F3                                    rep
[ 168]    042F: A4                                    movsb
[ 169]        :                                       ; close file
[ 170]    0430: B4 3E                                 mov            ah, 3Eh
[ 171]    0432: 8B 1E 67 00                           mov            bx, fhandle
[ 172]    0436: C3                                    ret
[ 173]    0437:                                       fileerr:
[ 174]    0437: 60 B6 00 B2 00 B7 00 B4 02 CD 10 BA   prints         0, 0, 0, err_file404
                7F 01 B4 09 CD 21 61                
[ 175]    044A: E8 9F 08                              call           sys_exit
[ 176]        :                                       setup ENDP
[ 177]        :                                       
[ 178]        :                                       ;---------------------- LOGIN PAGE PROC -------------------------;
[ 179]    044D:                                       login_page PROC
[ 180]    044D: B0 00 B4 05 CD 10                     set_videopage  0
[ 181]        :                                       ; check if page has been loaded
[ 182]    0453: 80 3E 8F 00 01                        cmp            PAGE_LOGIN, 1
[ 183]    0458: 75 03 E9 85 03                        je             keep_listening
[ 184]    045D: E8 7E 08                              call           cls
[ 185]        :                                       ; selection form printing
[ 186]    0460: 60 B6 03 B2 02 B7 00 B4 02 CD 10 A0   printc         3,  2, 0, _sym[5]
                AA 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 187]    0478: 60 B6 03 B2 03 B7 00 B4 02 CD 10 B9   printr         3,  3, 0, _sym[9], 34
                22 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 188]    0492: 60 B6 03 B2 25 B7 00 B4 02 CD 10 A0   printc         3, 37, 0, _sym[2]
                A7 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 189]        :                                       
[ 190]    04AA: 60 B6 04 B2 02 B7 00 B4 02 CD 10 A0   printc         4,  2, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 191]    04C2: 60 B6 04 B2 25 B7 00 B4 02 CD 10 A0   printc         4, 37, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 192]    04DA: 60 B6 04 B2 04 B7 00 B4 02 CD 10 BA   prints         4,  4, 0, login_accnt
                B0 00 B4 09 CD 21 61                
[ 193]        :                                       
[ 194]    04ED: 60 B6 05 B2 02 B7 00 B4 02 CD 10 A0   printc         5,  2, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 195]    0505: 60 B6 05 B2 25 B7 00 B4 02 CD 10 A0   printc         5, 37, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 196]    051D: 60 B6 05 B2 04 B7 00 B4 02 CD 10 BA   prints         5,  4, 0, login_desc
                BD 00 B4 09 CD 21 61                
[ 197]        :                                       
[ 198]    0530: 60 B6 06 B2 02 B7 00 B4 02 CD 10 A0   printc         6,  2, 0, _sym[4]
                A9 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 199]    0548: 60 B6 06 B2 03 B7 00 B4 02 CD 10 B9   printr         6,  3, 0, _sym[9], 34
                22 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 200]    0562: 60 B6 06 B2 25 B7 00 B4 02 CD 10 A0   printc         6, 37, 0, _sym[3]
                A8 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 201]        :                                       
[ 202]    057A: 60 B6 08 B2 02 B7 00 B4 02 CD 10 A0   printc         8,  2, 0, _sym[5]
                AA 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 203]    0592: 60 B6 08 B2 03 B7 00 B4 02 CD 10 B9   printr         8,  3, 0, _sym[9], 12
                0C 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 204]    05AC: 60 B6 08 B2 0F B7 00 B4 02 CD 10 A0   printc         8, 15, 0, _sym[7]
                AC 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 205]    05C4: 60 B6 08 B2 10 B7 00 B4 02 CD 10 B9   printr         8, 16, 0, _sym[9], 21
                15 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 206]    05DE: 60 B6 08 B2 25 B7 00 B4 02 CD 10 A0   printc         8, 37, 0, _sym[2]
                A7 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 207]        :                                       
[ 208]    05F6: 60 B6 09 B2 02 B7 00 B4 02 CD 10 A0   printc         9,  2, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 209]    060E: 60 B6 09 B2 0F B7 00 B4 02 CD 10 A0   printc         9, 15, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 210]    0626: 60 B6 09 B2 25 B7 00 B4 02 CD 10 A0   printc         9, 37, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 211]    063E: 60 B6 09 B2 04 B7 00 B4 02 CD 10 BA   prints         9,  4, 0, login_frm_text[0]
                DE 00 B4 09 CD 21 61                
[ 212]        :                                       
[ 213]    0651: 60 B6 0A B2 02 B7 00 B4 02 CD 10 A0   printc         10,  2, 0, _sym[8]
                AD 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 214]    0669: 60 B6 0A B2 03 B7 00 B4 02 CD 10 B9   printr         10,  3, 0, _sym[9], 12
                0C 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 215]    0683: 60 B6 0A B2 0F B7 00 B4 02 CD 10 A0   printc         10, 15, 0, _sym[10]
                AF 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 216]    069B: 60 B6 0A B2 10 B7 00 B4 02 CD 10 B9   printr         10, 16, 0, _sym[9], 21
                15 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 217]    06B5: 60 B6 0A B2 25 B7 00 B4 02 CD 10 A0   printc         10, 37, 0, _sym[0]
                A5 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 218]        :                                       
[ 219]    06CD: 60 B6 0B B2 02 B7 00 B4 02 CD 10 A0   printc         11,  2, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 220]    06E5: 60 B6 0B B2 04 B7 00 B4 02 CD 10 BA   prints         11,  4, 0, login_frm_text[9]
                E7 00 B4 09 CD 21 61                
[ 221]    06F8: 60 B6 0B B2 0F B7 00 B4 02 CD 10 A0   printc         11, 15, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 222]    0710: 60 B6 0B B2 25 B7 00 B4 02 CD 10 A0   printc         11, 37, 0, _sym[1]
                A6 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 223]        :                                       
[ 224]    0728: 60 B6 0C B2 02 B7 00 B4 02 CD 10 A0   printc         12,  2, 0, _sym[4]
                A9 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 225]    0740: 60 B6 0C B2 03 B7 00 B4 02 CD 10 B9   printr         12,  3, 0, _sym[9], 12
                0C 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 226]    075A: 60 B6 0C B2 0F B7 00 B4 02 CD 10 A0   printc         12, 15, 0, _sym[6]
                AB 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 227]    0772: 60 B6 0C B2 10 B7 00 B4 02 CD 10 B9   printr         12, 16, 0, _sym[9], 21
                15 00 B7 00 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 228]    078C: 60 B6 0C B2 25 B7 00 B4 02 CD 10 A0   printc         12, 37, 0, _sym[3]
                A8 00 B9 01 00 B7 00 B4 0A CD 10 61 
                                                    
[ 229]        :                                       
[ 230]    07A4: 60 B6 0E B2 06 B7 00 B4 02 CD 10 BA   prints         14,  6, 0, login_frm_sel[0]
                F0 00 B4 09 CD 21 61                
[ 231]    07B7: 60 B6 0E B2 12 B7 00 B4 02 CD 10 BA   prints         14, 18, 0, login_frm_sel[7]
                F7 00 B4 09 CD 21 61                
[ 232]        :                                       
[ 233]    07CA: 60 B6 17 B2 02 B7 00 B4 02 CD 10 BA   prints         23,  2, 0, app_version
                CF 01 B4 09 CD 21 61                
[ 234]        :                                       
[ 235]        :                                       ; mark the page has been loaded
[ 236]    07DD: C6 06 8F 00 01                        mov            PAGE_LOGIN, 1
[ 237]        :                                       
[ 238]        :                                       ; listens to mouse-pos
[ 239]    07E2:                                       keep_listening:
[ 240]        :                                       ; get mouse state
[ 241]    07E2: E8 B6 05                              call           whereis_mouse
[ 242]        :                                       ; left button click
[ 243]    07E5: 83 FB 01                              cmp            bx, 01h
[ 244]    07E8: 75 F8                                 jne            keep_listening
[ 245]        :                                       ; passes when left button is pressed
[ 246]        :                                       
[ 247]        :                                       ; form-selected detection
[ 248]    07EA: 81 F9 80 00                           cmp            cx, 0080h
[ 249]    07EE: 7C 76                                 jnge           menu_selection
[ 250]    07F0: 81 F9 26 01                           cmp            cx, 0126H
[ 251]    07F4: 7F 70                                 jnle           menu_selection
[ 252]    07F6:                                       card_no:
[ 253]    07F6: 83 FA 50                              cmp            dx, 0050h
[ 254]    07F9: 7F 33                                 jnle           pin_code
[ 255]    07FB: 83 FA 48                              cmp            dx, 0048h
[ 256]    07FE: 7C 66                                 jnge           menu_selection
[ 257]    0800: B6 09 B2 10 B7 00 B4 02 CD 10         cursor_at      9, 16, 0
[ 258]    080A: 60 B5 06 B1 07 B4 01 CD 10 BA 27 00   reads          in_card_no
                B4 0A CD 21 33 DB 8A 1E 28 00 C6 47 
                29 24 BA 29 00 B5 20 B4 01 CD 10 61 
                                                    
[ 259]    082E:                                       pin_code:
[ 260]    082E: 83 FA 5E                              cmp            dx, 005Eh
[ 261]    0831: 7F 33                                 jnle           menu_selection
[ 262]    0833: 83 FA 59                              cmp            dx, 0059h
[ 263]    0836: 7C 2E                                 jnge           menu_selection
[ 264]    0838: B6 0B B2 10 B7 00 B4 02 CD 10         cursor_at      11, 16, 0
[ 265]    0842: 60 B5 06 B1 07 B4 01 CD 10 BA 3A 00   reads          in_pin_code
                B4 0A CD 21 33 DB 8A 1E 3B 00 C6 47 
                3C 24 BA 3C 00 B5 20 B4 01 CD 10 61 
                                                    
[ 266]        :                                       ; ok&cancel menu detection
[ 267]    0866:                                       menu_selection:
[ 268]    0866: 83 FA 6E                              cmp            dx, 006Eh
[ 269]    0869: 7D 03 E9 74 FF                        jnge           keep_listening
[ 270]    086E: 83 FA 75                              cmp            dx, 0075h
[ 271]    0871: 7E 03 E9 6C FF                        jnle           keep_listening
[ 272]    0876:                                       cancel_button:
[ 273]    0876: 81 F9 90 00                           cmp            cx, 0090h
[ 274]    087A: 7C 0C                                 jnge           ok_button
[ 275]    087C: 81 F9 DF 00                           cmp            cx, 00DFh
[ 276]    0880: 7E 03 E9 5D FF                        jnle           keep_listening
[ 277]    0885: E8 64 04                              call           sys_exit
[ 278]    0888:                                       ok_button:
[ 279]    0888: 83 F9 30                              cmp            cx, 0030h
[ 280]    088B: 7D 03 E9 52 FF                        jnge           keep_listening
[ 281]    0890: 83 F9 5F                              cmp            cx, 005Fh
[ 282]    0893: 7E 03 E9 4A FF                        jnle           keep_listening
[ 283]        :                                       ; returns to check credibility
[ 284]    0898: C3                                    ret
[ 285]        :                                       login_page ENDP
[ 286]        :                                       
[ 287]        :                                       ;---------------------- MENU PAGE PROC -------------------------;
[ 288]    0899:                                       menu_page PROC
[ 289]    0899:                                       menu_start:
[ 290]    0899: B0 01 B4 05 CD 10                     set_videopage  1
[ 291]        :                                       ; check if page has been loaded
[ 292]    089F: 80 3E 90 00 01                        cmp            PAGE_MENU, 1
[ 293]    08A4: 75 03 E9 4A 01                        je             render_loop
[ 294]    08A9: E8 32 04                              call           cls
[ 295]        :                                       
[ 296]        :                                       ; al=row start
[ 297]    08AC: B3 07                                 mov bl,        07h
[ 298]    08AE: B1 03                                 mov cl,        03h
[ 299]        :                                       ; print the selection box
[ 300]    08B0:                                       create_block:
[ 301]        :                                       ; creates block
[ 302]    08B0: 60 8A F3 B2 02 B7 01 B4 02 CD 10 BA   prints         bl,  2, 1, menu_hdr
                35 01 B4 09 CD 21 61                
[ 303]    08C3: 60 8A F3 B2 14 B7 01 B4 02 CD 10 BA   prints         bl, 20, 1, menu_hdr
                35 01 B4 09 CD 21 61                
[ 304]    08D6: FE C3                                 inc            bl
[ 305]    08D8: 60 8A F3 B2 02 B7 01 B4 02 CD 10 A0   printc         bl,  2, 1, _sym[1]
                A6 00 B9 01 00 B7 01 B4 0A CD 10 61 
                                                    
[ 306]    08F0: 60 8A F3 B2 12 B7 01 B4 02 CD 10 A0   printc         bl, 18, 1, _sym[1]
                A6 00 B9 01 00 B7 01 B4 0A CD 10 61 
                                                    
[ 307]    0908: 60 8A F3 B2 14 B7 01 B4 02 CD 10 A0   printc         bl, 20, 1, _sym[1]
                A6 00 B9 01 00 B7 01 B4 0A CD 10 61 
                                                    
[ 308]    0920: 60 8A F3 B2 24 B7 01 B4 02 CD 10 A0   printc         bl, 36, 1, _sym[1]
                A6 00 B9 01 00 B7 01 B4 0A CD 10 61 
                                                    
[ 309]    0938: FE C3                                 inc            bl
[ 310]    093A: 60 8A F3 B2 02 B7 01 B4 02 CD 10 BA   prints         bl,  2, 1, menu_frm_ftr
                47 01 B4 09 CD 21 61                
[ 311]    094D: 60 8A F3 B2 14 B7 01 B4 02 CD 10 BA   prints         bl, 20, 1, menu_frm_ftr
                47 01 B4 09 CD 21 61                
[ 312]    0960: 80 C3 02                              add            bl, 2
[ 313]    0963: 49 E3 03 E9 47 FF                     loop           create_block
[ 314]        :                                       
[ 315]        :                                       ; withdraw-text
[ 316]    0969: 60 B6 08 B2 06 B7 01 B4 02 CD 10 BA   prints         8,  6, 1, menu_frm_text[0]
                02 01 B4 09 CD 21 61                
[ 317]        :                                       ; deposit-text
[ 318]    097C: 60 B6 08 B2 19 B7 01 B4 02 CD 10 BA   prints         8, 25, 1, menu_frm_text[9]
                0B 01 B4 09 CD 21 61                
[ 319]        :                                       ; balance-text
[ 320]    098F: 60 B6 0C B2 07 B7 01 B4 02 CD 10 BA   prints         12,  7, 1, menu_frm_text[17]
                13 01 B4 09 CD 21 61                
[ 321]        :                                       ; reset-pin text
[ 322]    09A2: 60 B6 0C B2 18 B7 01 B4 02 CD 10 BA   prints         12, 24, 1, menu_frm_text[25]
                1B 01 B4 09 CD 21 61                
[ 323]        :                                       ; log-out text
[ 324]    09B5: 60 B6 10 B2 07 B7 01 B4 02 CD 10 BA   prints         16,  7, 1, menu_frm_text[35]
                25 01 B4 09 CD 21 61                
[ 325]        :                                       ; details text
[ 326]    09C8: 60 B6 10 B2 19 B7 01 B4 02 CD 10 BA   prints         16, 25, 1, menu_frm_text[43]
                2D 01 B4 09 CD 21 61                
[ 327]        :                                       
[ 328]        :                                       ; prints time (text)
[ 329]    09DB: 60 B6 04 B2 02 B7 01 B4 02 CD 10 BA   prints         4, 2, 1, time
                96 00 B4 09 CD 21 61                
[ 330]        :                                       
[ 331]        :                                       ; mark the page has been loaded
[ 332]    09EE: C6 06 90 00 01                        mov            PAGE_MENU, 1
[ 333]    09F3:                                       render_loop:
[ 334]        :                                       ; time printing
[ 335]    09F3: BB 9C 00                              lea            bx,timestamp
[ 336]    09F6: E8 1E 03                              call           get_time
[ 337]    09F9: 60 B6 02 B2 02 B7 01 B4 02 CD 10 BA   prints         2, 2, 1, login_desc
                BD 00 B4 09 CD 21 61                
[ 338]        :                                       
[ 339]    0A0C: 60 B6 04 B2 08 B7 01 B4 02 CD 10 BA   prints         4, 8, 1, timestamp
                9C 00 B4 09 CD 21 61                
[ 340]        :                                       
[ 341]    0A1F: E8 79 03                              call           whereis_mouse
[ 342]    0A22: 83 FB 01                              cmp            bx, 0001h
[ 343]    0A25: 75 CC                                 jne            render_loop
[ 344]    0A27:                                       col_1:
[ 345]        :                                       ; checks if mouse coor is in first column
[ 346]    0A27: 83 F9 18                              cmp            cx, 0018h
[ 347]    0A2A: 7C C7                                 jnge           render_loop
[ 348]    0A2C: 81 F9 8F 00                           cmp            cx, 008Fh
[ 349]        :                                       ; if not, check if it is in second column
[ 350]    0A30: 7F 38                                 jnle           col_2
[ 351]    0A32:                                       btn_withdraw:
[ 352]    0A32: 83 FA 40                              cmp            dx, 0040h
[ 353]    0A35: 7C BC                                 jnge           render_loop
[ 354]    0A37: 83 FA 47                              cmp            dx, 0047h
[ 355]    0A3A: 7F 06                                 jnle           btn_balance
[ 356]        :                                       ; PROCESS: withdraw
[ 357]        :                                       ; withdraw process
[ 358]    0A3C: E8 7C 00                              call           input_page
[ 359]        :                                       withdrawable   input_amount, ff_balance
[ 360]        :                                       ; ENDPRC
[ 361]        :                                       ; go back to menu
[ 362]    0A3F: E9 57 FE                              jmp            menu_start
[ 363]    0A42:                                       btn_balance:
[ 364]    0A42: 83 FA 60                              cmp            dx, 0060h
[ 365]    0A45: 7C AC                                 jnge           render_loop
[ 366]    0A47: 83 FA 67                              cmp            dx, 0067h
[ 367]    0A4A: 7F 02                                 jnle           btn_logout
[ 368]        :                                       ; PROCESS: balance
[ 369]        :                                       ; ENDPRC
[ 370]    0A4C: EB A5                                 jmp            render_loop
[ 371]    0A4E:                                       btn_logout:
[ 372]    0A4E: 81 FA 80 00                           cmp            dx, 0080h
[ 373]    0A52: 7C 9F                                 jnge           render_loop
[ 374]    0A54: 81 FA 87 00                           cmp            dx, 0087h
[ 375]    0A58: 7F 99                                 jnle           render_loop
[ 376]        :                                       ; PROCESS: logout
[ 377]        :                                       ; sets all significant data to invalid state
[ 378]    0A5A: C6 06 29 00 24                        mov            in_card_no[2], '$'
[ 379]    0A5F: C6 06 3C 00 24                        mov            in_pin_code[2], '$'
[ 380]    0A64: C6 06 00 00 00                        mov            acct_login[0], 00h
[ 381]        :                                       ; ENDPRC
[ 382]        :                                       ; returns to main PROC
[ 383]    0A69: C3                                    ret
[ 384]    0A6A:                                       col_2:
[ 385]    0A6A:                                       btn_deposit:
[ 386]    0A6A: 83 FA 40                              cmp            dx, 0040h
[ 387]    0A6D: 7C 84                                 jnge           render_loop
[ 388]    0A6F: 83 FA 47                              cmp            dx, 0047h
[ 389]    0A72: 7F 1B                                 jnle           btn_reset_pin
[ 390]    0A74: 60 B6 08 B2 15 B7 01 B4 02 CD 10 A0   printc         8, 21, 1, _sym[11]
                B0 00 B9 01 00 B7 01 B4 0A CD 10 61 
                                                    
[ 391]    0A8C: E9 64 FF                              jmp            render_loop
[ 392]    0A8F:                                       btn_reset_pin:
[ 393]    0A8F: 83 FA 60                              cmp            dx, 0060h
[ 394]    0A92: 7D 03 E9 5C FF                        jnge           render_loop
[ 395]    0A97: 83 FA 67                              cmp            dx, 0067h
[ 396]    0A9A: 7F 06                                 jnle           btn_details
[ 397]        :                                       ; PROCESS: reset pin
[ 398]    0A9C: E8 1C 00                              call           input_page
[ 399]        :                                       ; TODO
[ 400]        :                                       ; ENDPRC
[ 401]    0A9F: E9 F7 FD                              jmp            menu_start
[ 402]    0AA2:                                       btn_details:
[ 403]    0AA2: 81 FA 80 00                           cmp            dx, 0080h
[ 404]    0AA6: 7D 03 E9 48 FF                        jnge           render_loop
[ 405]    0AAB: 81 FA 87 00                           cmp            dx, 0087h
[ 406]    0AAF: 7E 03 E9 3F FF                        jnle           render_loop
[ 407]    0AB4: E9 3C FF                              jmp            render_loop
[ 408]    0AB7: E9 39 FF                              jmp            render_loop
[ 409]    0ABA: C3                                    ret
[ 410]        :                                       menu_page ENDP
[ 411]        :                                       
[ 412]        :                                       ;-------------------- INPUT PAGE PROC -----------------------;
[ 413]    0ABB:                                       input_page PROC
[ 414]    0ABB: B0 02 B4 05 CD 10                     set_videopage  2
[ 415]        :                                       ; check if page has been loaded
[ 416]    0AC1: 80 3E 91 00 01                        cmp            PAGE_INPUT, 1
[ 417]    0AC6: 75 03 E9 90 01                        je             input_read
[ 418]    0ACB: E8 10 02                              call           cls
[ 419]    0ACE: 60 B6 07 B2 06 B7 02 B4 02 CD 10 A0   printc         7,  6, 2, _sym[5]
                AA 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 420]    0AE6: 60 B6 07 B2 07 B7 02 B4 02 CD 10 B9   printr         7,  7, 2, _sym[9], 26
                1A 00 B7 02 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 421]    0B00: 60 B6 07 B2 21 B7 02 B4 02 CD 10 A0   printc         7, 33, 2, _sym[2]
                A7 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 422]    0B18: 60 B6 08 B2 06 B7 02 B4 02 CD 10 A0   printc         8,  6, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 423]    0B30: 60 B6 08 B2 21 B7 02 B4 02 CD 10 A0   printc         8, 33, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 424]    0B48: 60 B6 09 B2 0E B7 02 B4 02 CD 10 BA   prints         9, 14, 2, input_text
                AE 01 B4 09 CD 21 61                
[ 425]    0B5B: 60 B6 09 B2 06 B7 02 B4 02 CD 10 A0   printc         9,  6, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 426]    0B73: 60 B6 09 B2 21 B7 02 B4 02 CD 10 A0   printc         9, 33, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 427]        :                                       
[ 428]    0B8B: 60 B6 0B B2 0D B7 02 B4 02 CD 10 B0   printc         11, 13, 2, '['
                5B B9 01 00 B7 02 B4 0A CD 10 61    
[ 429]    0BA2: 60 B6 0B B2 0E B7 02 B4 02 CD 10 B9   printr         11, 14, 2, '-', 12
                0C 00 B7 02 B3 1E B0 2D B4 09 CD 10 
                61                                  
[ 430]    0BBB: 60 B6 0B B2 1A B7 02 B4 02 CD 10 B0   printc         11, 26, 2, ']'
                5D B9 01 00 B7 02 B4 0A CD 10 61    
[ 431]        :                                       
[ 432]    0BD2: 60 B6 0C B2 06 B7 02 B4 02 CD 10 A0   printc         12,  6, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 433]    0BEA: 60 B6 0C B2 21 B7 02 B4 02 CD 10 A0   printc         12, 33, 2, _sym[1]
                A6 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 434]    0C02: 60 B6 0D B2 06 B7 02 B4 02 CD 10 A0   printc         13,  6, 2, _sym[4]
                A9 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 435]    0C1A: 60 B6 0D B2 07 B7 02 B4 02 CD 10 B9   printr         13,  7, 2, _sym[9], 26
                1A 00 B7 02 B3 1E A0 AE 00 B4 09 CD 
                10 61                               
[ 436]    0C34: 60 B6 0D B2 21 B7 02 B4 02 CD 10 A0   printc         13, 33, 2, _sym[3]
                A8 00 B9 01 00 B7 02 B4 0A CD 10 61 
                                                    
[ 437]        :                                       
[ 438]    0C4C: C6 06 91 00 01                        mov            PAGE_INPUT, 1
[ 439]    0C51: B6 0B B2 0E B7 02 B4 02 CD 10         cursor_at      11, 14, 2
[ 440]    0C5B:                                       input_read:
[ 441]    0C5B: 60 B5 06 B1 07 B4 01 CD 10 BA 4C 00   reads          input_amount
                B4 0A CD 21 33 DB 8A 1E 4D 00 C6 47 
                4E 24 BA 4E 00 B5 20 B4 01 CD 10 61 
                                                    
[ 442]    0C7F: B0 07 B4 05 CD 10                     set_videopage  7
[ 443]    0C85: 60 B6 0B B2 0E B7 02 B4 02 CD 10 B9   printr         11, 14, 2, '-', 12
                0C 00 B7 02 B3 1E B0 2D B4 09 CD 10 
                61                                  
[ 444]        :                                       ; should not be empty
[ 445]    0C9E: 80 3E 4E 00 24                        cmp            input_amount[2], '$'
[ 446]    0CA3: 74 01                                 je             empty
[ 447]        :                                       ; return to process if not empty
[ 448]    0CA5: C3                                    ret
[ 449]    0CA6:                                       empty:
[ 450]    0CA6: B0 07 B4 05 CD 10                     set_videopage  7
[ 451]    0CAC: B6 0B B2 0D B7 06 B4 02 CD 10         cursor_at      11,13,6
[ 452]    0CB6: B0 06 B4 05 CD 10 E8 1F 00 60 B6 00   alert          err_blank
                B2 00 B7 00 B4 02 CD 10 BA 59 01 B4 
                09 CD 21 61                         
[ 453]    0CD2: E8 CC 00                              call           delay
[ 454]    0CD5: B0 02 B4 05 CD 10                     set_videopage  2
[ 455]    0CDB: E9 7D FF                              jmp            input_read
[ 456]        :                                       input_page ENDP
[ 457]        :                                       
[ 458]        :                                       ;----------------------- CLEAR PROC -------------------------;
[ 459]    0CDE:                                       cls PROC
[ 460]    0CDE: 32 C0                                 xor            al, al
[ 461]    0CE0: 33 C9                                 xor            cx, cx
[ 462]    0CE2: BA 4F 18                              mov            dx, 184fh
[ 463]    0CE5: B7 1E                                 mov            bh, 1eh
[ 464]    0CE7: B4 06                                 mov            ah, 06h
[ 465]    0CE9: CD 10                                 int            10h
[ 466]    0CEB: C3                                    ret
[ 467]        :                                       cls ENDP
[ 468]        :                                       
[ 469]        :                                       ;----------------------- EXIT PROC --------------------------;
[ 470]    0CEC:                                       sys_exit PROC
[ 471]    0CEC: B6 0B B2 0B B7 06 B4 02 CD 10         cursor_at      11,11,6
[ 472]    0CF6: B0 06 B4 05 CD 10 E8 DF FF 60 B6 00   alert          exit_msg
                B2 00 B7 00 B4 02 CD 10 BA BB 01 B4 
                09 CD 21 61                         
[ 473]        :                                       ; DOS Exit
[ 474]    0D12: B4 4C                                 mov            ah, 4ch
[ 475]    0D14: CD 21                                 int            21h
[ 476]    0D16: C3                                    ret
[ 477]        :                                       sys_exit ENDP
[ 478]        :                                       
[ 479]        :                                       ;--------------------- GET TIME PROC ------------------------;
[ 480]    0D17:                                       get_time PROC
[ 481]        :                                       ; input  : BX=offset address of the string TIME
[ 482]        :                                       ; output : BX=current time
[ 483]        :                                       ; get current system time
[ 484]    0D17: B4 2C                                 mov            ah, 2ch
[ 485]    0D19: CD 21                                 int            21h
[ 486]        :                                       
[ 487]        :                                       ; ch=hours
[ 488]    0D1B: 8A C5                                 mov            al, ch
[ 489]    0D1D: E8 13 00                              call           to_ascii
[ 490]    0D20: 89 07                                 mov            [bx], ax
[ 491]        :                                       
[ 492]        :                                       ; cl=minutes
[ 493]    0D22: 8A C1                                 mov            al, cl
[ 494]    0D24: E8 0C 00                              call           to_ascii
[ 495]    0D27: 89 47 03                              mov            [bx+3], ax
[ 496]        :                                       ; dh=seconds
[ 497]    0D2A: 8A C6                                 mov            al, dh
[ 498]    0D2C: E8 04 00                              call           to_ascii
[ 499]    0D2F: 89 47 06                              mov            [bx+6], ax
[ 500]    0D32: C3                                    ret
[ 501]        :                                       get_time ENDP
[ 502]        :                                       
[ 503]        :                                       ;--------------------- TO ASCII PROC -----------------------;
[ 504]    0D33:                                       to_ascii PROC
[ 505]        :                                       ; input  : AL=binary code
[ 506]        :                                       ; output : AX=ASCII code
[ 507]    0D33: B4 00                                 mov            ah, 00h
[ 508]    0D35: B2 0A                                 mov            dl, 10d
[ 509]    0D37: F6 F2                                 div            dl
[ 510]    0D39: 0D 30 30                              or             ax, 3030H
[ 511]    0D3C: C3                                    ret
[ 512]        :                                       to_ascii ENDP
[ 513]        :                                       
[ 514]        :                                       ;----------------- VALIDATE ACCOUNT PROC -------------------;
[ 515]    0D3D:                                       validate_acct PROC
[ 516]        :                                       ; compare card_no
[ 517]    0D3D: BE 01 00                              lea            si, ff_card_no
[ 518]    0D40: BF 29 00                              lea            di, [in_card_no+2]
[ 519]    0D43: 33 C9                                 xor            cx, cx
[ 520]    0D45: B9 10 00                              mov            cx, 10h
[ 521]    0D48: 8A 04                                 mov            al, [si]
[ 522]    0D4A: 8A 1D                                 mov            bl, [di]
[ 523]    0D4C: 3A C3                                 cmp            al, bl
[ 524]    0D4E: 75 21                                 jne            str_notequal
[ 525]    0D50: F3 A6                                 repe cmpsb
[ 526]    0D52: 75 1D                                 jne            str_notequal
[ 527]        :                                       ; compare pin_code
[ 528]    0D54: BE 12 00                              lea            si, ff_pin_code
[ 529]    0D57: BF 3C 00                              lea            di, [in_pin_code+2]
[ 530]    0D5A: 33 C9                                 xor            cx, cx
[ 531]    0D5C: B9 06 00                              mov            cx, 06h
[ 532]    0D5F: 8A 04                                 mov            al, [si]
[ 533]    0D61: 8A 1D                                 mov            bl, [di]
[ 534]    0D63: 3A C3                                 cmp            al, bl
[ 535]    0D65: 75 0A                                 jne            str_notequal
[ 536]    0D67: F3 A6                                 repe cmpsb
[ 537]    0D69: 75 06                                 jne            str_notequal
[ 538]        :                                       ; equal
[ 539]    0D6B: C6 06 00 00 01                        mov            acct_login[0], 01h
[ 540]    0D70: C3                                    ret
[ 541]    0D71:                                       str_notequal:
[ 542]    0D71: B6 0A B2 0A B7 06 B4 02 CD 10         cursor_at      10,10,6
[ 543]    0D7B: B0 06 B4 05 CD 10 E8 5A FF 60 B6 00   alert          err_incorrect
                B2 00 B7 00 B4 02 CD 10 BA 69 01 B4 
                09 CD 21 61                         
[ 544]    0D97: E8 07 00                              call           delay
[ 545]    0D9A: C3                                    ret
[ 546]        :                                       validate_acct ENDP
[ 547]        :                                       
[ 548]        :                                       ;------------=-- GET MOUSE COORDINATE PROC -----------------;
[ 549]    0D9B:                                       whereis_mouse PROC
[ 550]    0D9B: B8 03 00                              mov            ax, 03h
[ 551]    0D9E: CD 33                                 int            33h
[ 552]    0DA0: C3                                    ret
[ 553]        :                                       ENDP
[ 554]        :                                       
[ 555]        :                                       ;---------------------- DELAY PROC -------------------------;
[ 556]        :                                       ; one second delay
[ 557]    0DA1:                                       delay PROC
[ 558]    0DA1: B0 00                                 mov            al, 00h
[ 559]    0DA3: B9 0F 00                              mov            cx, 0Fh
[ 560]    0DA6: BA 40 42                              mov            dx, 4240h
[ 561]    0DA9: B4 86                                 mov            ah, 86h
[ 562]    0DAB: CD 15                                 int            15h
[ 563]    0DAD: C3                                    ret
[ 564]        :                                       ENDP
[ 565]        :                                       END main
[ 566]        :                                       
 
===================================================================================================
 
EXE HEADER - bytes from 0000 to 01FF inclusive.

0000: 4D      -   exe signature (M)
0001: 5A      -   exe signature (Z)
0002: AE      -   bytes on last page (l.byte)
0003: 01      -   bytes on last page (h.byte)
0004: 08      -   512 byte pages in file (l.byte)
0005: 00      -   512 byte pages in file (h.byte)
0006: 01      -   relocations (l.byte)
0007: 00      -   relocations (h.byte)
0008: 20      -   paragraphs in header (l.byte)
0009: 00      -   paragraphs in header (h.byte)
000A: 00      -   minimum memory (l.byte)
000B: 00      -   minimum memory (h.byte)
000C: FF      -   maximum memory (l.byte)
000D: FF      -   maximum memory (h.byte)
000E: 00      -   SS - stack segment (l.byte)
000F: 00      -   SS - stack segment (h.byte)
0010: 25      -   SP - stack pointer (l.byte)
0011: 01      -   SP - stack pointer (h.byte)
0012: EF      -   check sum (l.byte)
0013: DF      -   check sum (h.byte)
0014: 00      -   IP - instruction pointer (l.byte)
0015: 00      -   IP - instruction pointer (h.byte)
0016: 32      -   CS - code segment (l.byte)
0017: 00      -   CS - code segment (h.byte)
0018: 1E      -   relocation table adress (l.byte)
0019: 00      -   relocation table adress (h.byte)
001A: 00      -   overlay number (l.byte)
001B: 00      -   overlay number (h.byte)
001C: 01      -   signature (l.byte)
001D: 00      -   signature (h.byte)
001E: AD      -   relocation table - offset inside segment (l.byte)
001F: 00      -   relocation table - offset inside segment (h.byte)
0020: 32      -   relocation table - segment anchor (l.byte)
0021: 00      -   relocation table - segment anchor (h.byte)
0022 to 01FF  -   reserved relocation area  (00) 




===================================================================================================
